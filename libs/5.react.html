<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react 相关</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/ico.ico">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/blog/assets/css/0.styles.59641522.css" as="style"><link rel="preload" href="/blog/assets/js/app.84e96067.js" as="script"><link rel="preload" href="/blog/assets/js/2.c354aea8.js" as="script"><link rel="preload" href="/blog/assets/js/99.907343cd.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.37635db3.js"><link rel="prefetch" href="/blog/assets/js/100.f6057d56.js"><link rel="prefetch" href="/blog/assets/js/101.cf60bf11.js"><link rel="prefetch" href="/blog/assets/js/102.0d445d68.js"><link rel="prefetch" href="/blog/assets/js/103.4ad5946c.js"><link rel="prefetch" href="/blog/assets/js/104.5da824f5.js"><link rel="prefetch" href="/blog/assets/js/105.c06a0eb7.js"><link rel="prefetch" href="/blog/assets/js/106.c87a5570.js"><link rel="prefetch" href="/blog/assets/js/107.c8b209bf.js"><link rel="prefetch" href="/blog/assets/js/108.0efe1961.js"><link rel="prefetch" href="/blog/assets/js/109.b620c046.js"><link rel="prefetch" href="/blog/assets/js/11.b7a6d5a3.js"><link rel="prefetch" href="/blog/assets/js/110.d84a09c7.js"><link rel="prefetch" href="/blog/assets/js/111.45084dcf.js"><link rel="prefetch" href="/blog/assets/js/112.1a8b3e48.js"><link rel="prefetch" href="/blog/assets/js/113.9bf7fcdd.js"><link rel="prefetch" href="/blog/assets/js/114.29b063f5.js"><link rel="prefetch" href="/blog/assets/js/115.d378e75f.js"><link rel="prefetch" href="/blog/assets/js/116.c43f681f.js"><link rel="prefetch" href="/blog/assets/js/117.5b18cf5d.js"><link rel="prefetch" href="/blog/assets/js/118.ff31bf35.js"><link rel="prefetch" href="/blog/assets/js/119.efadcbea.js"><link rel="prefetch" href="/blog/assets/js/12.a0c7d50c.js"><link rel="prefetch" href="/blog/assets/js/120.70f3cfe9.js"><link rel="prefetch" href="/blog/assets/js/121.957b12fc.js"><link rel="prefetch" href="/blog/assets/js/122.67c0c25a.js"><link rel="prefetch" href="/blog/assets/js/123.400d61b5.js"><link rel="prefetch" href="/blog/assets/js/124.c3864720.js"><link rel="prefetch" href="/blog/assets/js/125.0fb9cf1d.js"><link rel="prefetch" href="/blog/assets/js/126.6f5a7634.js"><link rel="prefetch" href="/blog/assets/js/127.2c90bf3a.js"><link rel="prefetch" href="/blog/assets/js/128.c386beb0.js"><link rel="prefetch" href="/blog/assets/js/129.7473cb0a.js"><link rel="prefetch" href="/blog/assets/js/13.2ef24823.js"><link rel="prefetch" href="/blog/assets/js/130.fbba7359.js"><link rel="prefetch" href="/blog/assets/js/131.53dbc3e3.js"><link rel="prefetch" href="/blog/assets/js/132.08987238.js"><link rel="prefetch" href="/blog/assets/js/133.aeb096aa.js"><link rel="prefetch" href="/blog/assets/js/134.730074bd.js"><link rel="prefetch" href="/blog/assets/js/14.4a8d6431.js"><link rel="prefetch" href="/blog/assets/js/15.4e86b1b3.js"><link rel="prefetch" href="/blog/assets/js/16.fba0adc4.js"><link rel="prefetch" href="/blog/assets/js/17.f4122b16.js"><link rel="prefetch" href="/blog/assets/js/18.9d4f4733.js"><link rel="prefetch" href="/blog/assets/js/19.392608a6.js"><link rel="prefetch" href="/blog/assets/js/20.f9116bce.js"><link rel="prefetch" href="/blog/assets/js/21.e00556db.js"><link rel="prefetch" href="/blog/assets/js/22.b38b5951.js"><link rel="prefetch" href="/blog/assets/js/23.2249c846.js"><link rel="prefetch" href="/blog/assets/js/24.25e9c69a.js"><link rel="prefetch" href="/blog/assets/js/25.c285ffd0.js"><link rel="prefetch" href="/blog/assets/js/26.d28225e3.js"><link rel="prefetch" href="/blog/assets/js/27.1d78827a.js"><link rel="prefetch" href="/blog/assets/js/28.89a2633c.js"><link rel="prefetch" href="/blog/assets/js/29.73edb204.js"><link rel="prefetch" href="/blog/assets/js/3.22e2300d.js"><link rel="prefetch" href="/blog/assets/js/30.1a92d08f.js"><link rel="prefetch" href="/blog/assets/js/31.b955629f.js"><link rel="prefetch" href="/blog/assets/js/32.6693f595.js"><link rel="prefetch" href="/blog/assets/js/33.17a8a728.js"><link rel="prefetch" href="/blog/assets/js/34.9b216f78.js"><link rel="prefetch" href="/blog/assets/js/35.041fba3b.js"><link rel="prefetch" href="/blog/assets/js/36.3eadd0a8.js"><link rel="prefetch" href="/blog/assets/js/37.f5f0e0cc.js"><link rel="prefetch" href="/blog/assets/js/38.501ecf6c.js"><link rel="prefetch" href="/blog/assets/js/39.a4c7689d.js"><link rel="prefetch" href="/blog/assets/js/4.ecd3ceb6.js"><link rel="prefetch" href="/blog/assets/js/40.32d28885.js"><link rel="prefetch" href="/blog/assets/js/41.8887a47e.js"><link rel="prefetch" href="/blog/assets/js/42.1e1f004a.js"><link rel="prefetch" href="/blog/assets/js/43.e575bdd5.js"><link rel="prefetch" href="/blog/assets/js/44.bf87bea0.js"><link rel="prefetch" href="/blog/assets/js/45.25baf6b6.js"><link rel="prefetch" href="/blog/assets/js/46.2dea5660.js"><link rel="prefetch" href="/blog/assets/js/47.18b0ed7e.js"><link rel="prefetch" href="/blog/assets/js/48.a87edacb.js"><link rel="prefetch" href="/blog/assets/js/49.e606411c.js"><link rel="prefetch" href="/blog/assets/js/5.1ea47c52.js"><link rel="prefetch" href="/blog/assets/js/50.9c8a5999.js"><link rel="prefetch" href="/blog/assets/js/51.038c5cdc.js"><link rel="prefetch" href="/blog/assets/js/52.042d0dc5.js"><link rel="prefetch" href="/blog/assets/js/53.c1ca24ae.js"><link rel="prefetch" href="/blog/assets/js/54.a098c88d.js"><link rel="prefetch" href="/blog/assets/js/55.5429d21d.js"><link rel="prefetch" href="/blog/assets/js/56.da1694e2.js"><link rel="prefetch" href="/blog/assets/js/57.d49ea271.js"><link rel="prefetch" href="/blog/assets/js/58.973174b3.js"><link rel="prefetch" href="/blog/assets/js/59.85c36c44.js"><link rel="prefetch" href="/blog/assets/js/6.03800c69.js"><link rel="prefetch" href="/blog/assets/js/60.c3678b9c.js"><link rel="prefetch" href="/blog/assets/js/61.ab892d4e.js"><link rel="prefetch" href="/blog/assets/js/62.f2f75eff.js"><link rel="prefetch" href="/blog/assets/js/63.e388ace6.js"><link rel="prefetch" href="/blog/assets/js/64.42482efc.js"><link rel="prefetch" href="/blog/assets/js/65.8a868428.js"><link rel="prefetch" href="/blog/assets/js/66.4485098b.js"><link rel="prefetch" href="/blog/assets/js/67.d35c12c5.js"><link rel="prefetch" href="/blog/assets/js/68.60815a65.js"><link rel="prefetch" href="/blog/assets/js/69.5b83909f.js"><link rel="prefetch" href="/blog/assets/js/7.c0031419.js"><link rel="prefetch" href="/blog/assets/js/70.356027ef.js"><link rel="prefetch" href="/blog/assets/js/71.31ba4a16.js"><link rel="prefetch" href="/blog/assets/js/72.bd950ffa.js"><link rel="prefetch" href="/blog/assets/js/73.8ecb08d8.js"><link rel="prefetch" href="/blog/assets/js/74.d2e32032.js"><link rel="prefetch" href="/blog/assets/js/75.23a11337.js"><link rel="prefetch" href="/blog/assets/js/76.37b756bc.js"><link rel="prefetch" href="/blog/assets/js/77.42c90a43.js"><link rel="prefetch" href="/blog/assets/js/78.eb19ff69.js"><link rel="prefetch" href="/blog/assets/js/79.312a65b4.js"><link rel="prefetch" href="/blog/assets/js/8.f2b6ea10.js"><link rel="prefetch" href="/blog/assets/js/80.fa043ac4.js"><link rel="prefetch" href="/blog/assets/js/81.f64d11bc.js"><link rel="prefetch" href="/blog/assets/js/82.56fcf3d9.js"><link rel="prefetch" href="/blog/assets/js/83.eda522dd.js"><link rel="prefetch" href="/blog/assets/js/84.dfc8a471.js"><link rel="prefetch" href="/blog/assets/js/85.c3a06243.js"><link rel="prefetch" href="/blog/assets/js/86.56ea9e31.js"><link rel="prefetch" href="/blog/assets/js/87.b7ed04ae.js"><link rel="prefetch" href="/blog/assets/js/88.8d26f5d3.js"><link rel="prefetch" href="/blog/assets/js/89.ace9b154.js"><link rel="prefetch" href="/blog/assets/js/9.4d4f0189.js"><link rel="prefetch" href="/blog/assets/js/90.d5765142.js"><link rel="prefetch" href="/blog/assets/js/91.69cd445a.js"><link rel="prefetch" href="/blog/assets/js/92.2450896e.js"><link rel="prefetch" href="/blog/assets/js/93.cb27e261.js"><link rel="prefetch" href="/blog/assets/js/94.d930f44e.js"><link rel="prefetch" href="/blog/assets/js/95.7280db77.js"><link rel="prefetch" href="/blog/assets/js/96.163a3de5.js"><link rel="prefetch" href="/blog/assets/js/97.b46fbc19.js"><link rel="prefetch" href="/blog/assets/js/98.c9ec761c.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.59641522.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/language/" class="nav-link">
  语言基础
</a></div><div class="nav-item"><a href="/blog/network/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/codes/" class="nav-link">
  寿司代码
</a></div><div class="nav-item"><a href="/blog/libs/" class="nav-link router-link-active">
  类库
</a></div><div class="nav-item"><a href="/blog/study/" class="nav-link">
  深度学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="more" class="dropdown-title"><span class="title">more</span> <span class="arrow down"></span></button> <button type="button" aria-label="more" class="mobile-dropdown-title"><span class="title">more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AnonBug/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  仓库地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://anonbug.github.io/jandan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  摸鱼实录
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://jandan.net/top-4h" target="_blank" rel="noopener noreferrer" class="nav-link external">
  煎蛋
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/language/" class="nav-link">
  语言基础
</a></div><div class="nav-item"><a href="/blog/network/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/codes/" class="nav-link">
  寿司代码
</a></div><div class="nav-item"><a href="/blog/libs/" class="nav-link router-link-active">
  类库
</a></div><div class="nav-item"><a href="/blog/study/" class="nav-link">
  深度学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="more" class="dropdown-title"><span class="title">more</span> <span class="arrow down"></span></button> <button type="button" aria-label="more" class="mobile-dropdown-title"><span class="title">more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AnonBug/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  仓库地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://anonbug.github.io/jandan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  摸鱼实录
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://jandan.net/top-4h" target="_blank" rel="noopener noreferrer" class="nav-link external">
  煎蛋
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react 相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/libs/5.react.html#概念" class="sidebar-link">概念</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/libs/5.react.html#元素" class="sidebar-link">元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#jsx-语法" class="sidebar-link">JSX 语法</a></li></ul></li><li><a href="/blog/libs/5.react.html#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#函数组件与类组件" class="sidebar-link">函数组件与类组件</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#纯组件" class="sidebar-link">纯组件</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#与元素的区别" class="sidebar-link">与元素的区别</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#组合代替继承" class="sidebar-link">组合代替继承</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#context" class="sidebar-link">Context</a></li></ul></li><li><a href="/blog/libs/5.react.html#hook" class="sidebar-link">HOOK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#为什么使用-hook" class="sidebar-link">为什么使用 HOOK</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#使用规则" class="sidebar-link">使用规则</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#常用-hook" class="sidebar-link">常用 HOOK</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#自定义-hook" class="sidebar-link">自定义 HOOK</a></li></ul></li><li><a href="/blog/libs/5.react.html#八股" class="sidebar-link">八股</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#react-的特性" class="sidebar-link">React 的特性</a></li><li class="sidebar-sub-header"><a href="/blog/libs/5.react.html#" class="sidebar-link"></a></li></ul></li><li><a href="/blog/libs/5.react.html#原理" class="sidebar-link">原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/libs/5.react.html#最佳实践" class="sidebar-link">最佳实践</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/libs/5.react.html#mvvm" class="sidebar-link">MVVM</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-相关"><a href="#react-相关" class="header-anchor">#</a> react 相关</h1> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <blockquote><p><a href="https://zh-hans.reactjs.org/docs/getting-started.html" target="_blank" rel="noopener noreferrer">官方指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>在 react 应用程序由两大重要组成：元素和组件。</p> <h2 id="元素"><a href="#元素" class="header-anchor">#</a> 元素</h2> <p>React 元素是构成 React 应用的最小砖块，描述了屏幕上看到的内容（DOM）。React 元素开销极小，React 保证了 React 元素与 DOM 元素的一致。</p> <p>React 元素是不可变对象。一旦被创建，你就无法更改它的子元素或者属性。更新 UI 唯一的方式是创建一个全新的元素。</p> <h3 id="jsx-语法"><a href="#jsx-语法" class="header-anchor">#</a> JSX 语法</h3> <p>JSX 是 JavaScript 的扩展，将 UI 和 逻辑 结合起来，有利于描述页面应有的交互本质。React 负责将这些语法生成元素。
Babel 会把 JSX 转译成一个名为 React.createElement() 函数调用。React.createElement() 会预先执行一些检查，以帮助你编写无错代码，但实际上它创建了一个这样的对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 注意：这是简化过的结构</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> <span class="token string">'greeting'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token string">'Hello, world!'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这些对象被称为 “React 元素”。它们描述了你希望在屏幕上看到的内容。React 通过读取这些对象，然后使用它们来构建 DOM 以及保持随时更新。</p> <p><strong>React 认为渲染逻辑本质上与其他 UI 逻辑内在耦合</strong>，通过将元素和逻辑共同存放在 组件 中，以实现关注点分离。</p> <blockquote><p>关注点分离：日常生活中解决复杂问题的一种<strong>系统思维方法</strong>。思路是，先将复杂问题做合理的分解，再分别仔细研究问题的不同侧面 (关注点)，最后综合各方面的结果，合成整体的解决方案。</p></blockquote> <p>JSX 本质上是一个表达式。</p> <h4 id="jsx-能够防注入攻击"><a href="#jsx-能够防注入攻击" class="header-anchor">#</a> JSX 能够防注入攻击</h4> <p>React DOM 在<strong>渲染所有输入内容之前，默认会进行转义</strong>。它可以确保在你的应用中，永远不会注入那些并非自己明确编写的内容。所有的内容在渲染之前都被转换成了字符串。</p> <h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <p>从概念上类似于 JavaScript 函数。它接受任意的入参（即 “props”），并返回用于描述页面展示内容的 React 元素。</p> <p>根据组件的定义方式可分为函数组件和类组件。</p> <p>React 内部对两种组件的处理：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 如果 Greeting 是一个函数</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p&gt;Hello&lt;/p&gt;</span>

<span class="token comment">// 如果 Greeting 是一个类</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Greeting {}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> instance<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p&gt;Hello&lt;/p&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="函数组件与类组件"><a href="#函数组件与类组件" class="header-anchor">#</a> 函数组件与类组件</h3> <blockquote><p><a href="https://zh-hans.reactjs.org/docs/hooks-faq.html#are-hooks-slow-because-of-creating-functions-in-render" target="_blank" rel="noopener noreferrer">Hook 会因为在渲染时创建函数而变慢吗？——官方指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>从官方的观点，应该是更推荐使用 函数组件。</p> <ul><li>Hook 避免了 class 需要的额外开支，像是创建类实例和在构造函数中绑定事件处理器的成本。</li> <li>没有计划从 React 中移除 class……</li> <li>我们准备让 Hook 覆盖所有 class 组件的使用场景，但是我们将继续为 class 组件提供支持。</li></ul> <h3 id="纯组件"><a href="#纯组件" class="header-anchor">#</a> 纯组件</h3> <blockquote><p>纯函数：不会尝试更改入参，且多次调用下相同的入参始终返回相同的结果。</p></blockquote> <p>所有 React 组件都必须像纯函数一样保护它们的 props 不被更改。为了实现 UI 交互，组件可以维护自有的状态 state 。</p> <p>state 的更新是异步的，因为 React 为了提升性能，会收集多个 setState 一次更新。</p> <h3 id="与元素的区别"><a href="#与元素的区别" class="header-anchor">#</a> 与元素的区别</h3> <p>一个 Element 是一个简单的对象，它描述了你希望在屏幕上以 DOM 节点或其他组件的形式呈现的内容。</p> <p>而一个组件可以用多种不同方式声明。它可以是一个含有 render() 方法的类。或者，在简单的情况中，它可以定义为函数。无论哪种情况，它都将 props 作为输入，并返回一个 JSX 树作为输出。</p> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <h3 id="组合代替继承"><a href="#组合代替继承" class="header-anchor">#</a> 组合代替继承</h3> <h3 id="context"><a href="#context" class="header-anchor">#</a> Context</h3> <p>Context 提供了一个无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法。</p> <p>Context 设计目的是为了共享那些对于一个组件树而言是 “全局” 的数据，例如当前认证的用户、主题或首选语言。</p> <p>也有一些其它方案可以解决父组件向深嵌套的子组件传递 prop 的方案：</p> <ul><li>组件组合：把子组件定义在父组件内，然后传递子组件本身</li> <li>使用 render prop 以加强父子组件间的渲染通信</li></ul> <p>有的时候在组件树中很多不同层级的组件需要访问同样的一批数据。Context 能让你将这些数据向组件树下所有的组件进行 “广播”，所有的组件都能访问到这些数据，也能访问到后续的数据更新。</p> <p>Context 主要应用场景在于很多不同层级的组件需要访问同样一些的数据。请谨慎使用，因为这会使得组件的复用性变差。</p> <h2 id="hook"><a href="#hook" class="header-anchor">#</a> HOOK</h2> <p>Hook 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性，是一些可以让你在函数组件里 <strong>“钩入” React state 及生命周期等特性</strong>的函数。</p> <h3 id="为什么使用-hook"><a href="#为什么使用-hook" class="header-anchor">#</a> 为什么使用 HOOK</h3> <ol><li>在组件之间复用状态逻辑很难</li></ol> <p>React 没有提供将可复用性行为 “附加” 到组件的途径，你可以使用 Hook 从组件中提取状态逻辑，使得这些逻辑可以单独测试并复用。Hook 使你在无需修改组件结构的情况下复用状态逻辑。 这使得在组件间或社区内共享 Hook 变得更便捷。</p> <ol start="2"><li>复杂组件变得难以理解</li></ol> <p>组件起初很简单，但是逐渐会被状态逻辑和副作用充斥。每个生命周期常常包含一些不相关的逻辑。</p> <p>在多数情况下，不可能将组件拆分为更小的粒度，因为状态逻辑无处不在。</p> <p>为了解决这个问题，Hook 将组件中相互关联的部分拆分成更小的函数（比如设置订阅或请求数据），而并非强制按照生命周期划分。</p> <ol start="3"><li>难以理解的 class</li></ol> <p>你必须去理解 JavaScript 中 this 的工作方式，这与其他语言存在巨大差异。还不能忘记绑定事件处理器。即便在有经验的 React 开发者之间，对于函数组件与 class 组件的差异也存在分歧，甚至还要区分两种组件的使用场景。</p> <p>class 不能很好的压缩，并且会使热重载出现不稳定的情况。</p> <p>为了解决这些问题，Hook 使你在非 class 的情况下可以使用更多的 React 特性。 从概念上讲，React 组件一直更像是函数。而 Hook 则拥抱了函数，同时也没有牺牲 React 的精神原则。Hook 提供了问题的解决方案，无需学习复杂的函数式或响应式编程技术。</p> <h3 id="使用规则"><a href="#使用规则" class="header-anchor">#</a> 使用规则</h3> <ul><li>只能在函数最顶层调用 Hook。不要在循环、条件判断或者子函数中调用。
<ul><li>如果需要条件判断，可以在 Hook 内部实现</li></ul></li> <li>只能在 React 的函数组件中调用 Hook。不要在其他 JavaScript 函数中调用。</li> <li>Hook 使用了 JavaScript 的闭包机制，而不用在 JavaScript 已经提供了解决方案的情况下，还引入特定的 React API。</li></ul> <h4 id="使用多个-usestate-时-react-怎么知道哪个是哪个"><a href="#使用多个-usestate-时-react-怎么知道哪个是哪个" class="header-anchor">#</a> 使用多个 useState 时，React 怎么知道哪个是哪个</h4> <p>React 使用 Hook 函数的调用顺序来保证对应关系。因为通过上述规则，保证了在每次渲染中，Hook 的调用顺序都是相同的。</p> <h3 id="常用-hook"><a href="#常用-hook" class="header-anchor">#</a> 常用 HOOK</h3> <h4 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h4> <ul><li>参数：初始 state</li> <li>返回值：当前 state 以及更新 state 的函数</li></ul> <p>State 变量可以很好地存储对象和数组，因此，你仍然可以将相关数据分为一组。然而，不像 class 中的 this.setState，<strong>更新 state 变量总是替换它而不是合并它</strong>。</p> <p>state 只在组件首次渲染的时候被创建。在下一次重新渲染时，useState 返回给我们当前的 state。否则它就不是 “state” 了！</p> <h4 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h4> <p><strong>副作用</strong>：数据获取，设置订阅以及手动更改 React 组件中的 DOM 都属于副作用。</p> <p>副作用分为两种：需要清除的、不需要清除的。</p> <p>当你调用 useEffect 时，就是在告诉 React 在<strong>完成对 DOM 的更改后</strong>运行你的 “副作用” 函数。整合了 componentDidMount、componentDidUpdate 和 componentWillUnmount 生命周期函数。</p> <p>有一些副作用，我们希望它在每次渲染之后执行 —— 但 React 的 class 组件没有提供这样的方法。即使我们提取出一个方法，我们还是要在两个地方（componentDidMount、componentDidUpdate）调用它。</p> <p>通过使用 Hook，你可以把组件内相关的副作用组织在一起（例如创建订阅及取消订阅），而不要把它们拆分到不同的生命周期函数里。</p> <ul><li>默认情况下，React 会在每次渲染后调用副作用函数 —— 包括第一次渲染的时候。</li> <li>可以访问到组件的 props 和 state</li> <li>通过返回一个函数来指定如何 “清除” 副作用</li> <li>React 会在执行当前 effect 之前对上一个 effect 进行清除。
<ul><li>目的是为了减少由于 prop 更新带来的数据不一致（effect 覆盖了 componentDidUpdate，却没法在 update 阶段手动更新 state）</li></ul></li></ul> <p><strong>注意</strong></p> <p>传递给 useEffect 的函数在每次渲染中都会有所不同，这是刻意为之的。事实上这正是我们可以在 effect 中获取最新的 count 的值（<strong>重新生成 effect 函数，产生新闭包，包进最新的 state</strong>），而不用担心其过期的原因。每次我们重新渲染，都会生成新的 effect，替换掉之前的。某种意义上讲，effect 更像是渲染结果的一部分 —— 每个 effect “属于” 一次特定的渲染。</p> <p>与 componentDidMount 或 componentDidUpdate 不同，使用 useEffect 调度的 effect <strong>不会阻塞</strong>浏览器更新屏幕，这让你的应用看起来响应更快。大多数情况下，effect 不需要同步地执行。在个别情况下（例如测量布局），有单独的 useLayoutEffect Hook 供你使用，其 API 与 useEffect 相同。</p> <p><strong>进阶</strong></p> <p>可以使用多个 useEffect ，将不相关逻辑分离到不同的 effect 中，实现关注点分离。（又一个抛弃 class 组件的理由）React 将按照 effect 声明的顺序依次调用组件中的每一个 effect。</p> <p>可以向 useEffect 传入第二个数组参数以优化渲染频次。数组中包含了所有外部作用域中会随时间变化并且在 effect 中使用的变量，否则你的代码会引用到先前渲染中的旧变量。</p> <p>关于这种优化方式有一些 <a href="https://zh-hans.reactjs.org/docs/hooks-faq.html#performance-optimizations" target="_blank" rel="noopener noreferrer">注意事项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="自定义-hook"><a href="#自定义-hook" class="header-anchor">#</a> 自定义 HOOK</h3> <p>Hook 是一种复用状态逻辑的方式，它不复用 state 本身。</p> <p>Hook 的每次调用都有一个完全独立的 state</p> <p>你可以创建涵盖各种场景的自定义 Hook，如表单处理、动画、订阅声明、计时器，甚至可能还有更多我们没想到的场景。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 自定义的例子，订阅用户状态</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">useFriendStatus</span><span class="token punctuation">(</span><span class="token parameter">friendID</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isOnline<span class="token punctuation">,</span> setIsOnline<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleStatusChange</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setIsOnline</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isOnline<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    ChatAPI<span class="token punctuation">.</span><span class="token function">subscribeToFriendStatus</span><span class="token punctuation">(</span>friendID<span class="token punctuation">,</span> handleStatusChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      ChatAPI<span class="token punctuation">.</span><span class="token function">unsubscribeFromFriendStatus</span><span class="token punctuation">(</span>friendID<span class="token punctuation">,</span> handleStatusChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> isOnline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用自定义 hook</span>
<span class="token keyword">function</span> <span class="token function">FriendStatus</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isOnline <span class="token operator">=</span> <span class="token function">useFriendStatus</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isOnline <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Loading...'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> isOnline <span class="token operator">?</span> <span class="token string">'Online'</span> <span class="token operator">:</span> <span class="token string">'Offline'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>约定</strong></p> <ul><li>自定义 Hook 不需要具有特殊的标识。我们可以自由的决定它的参数是什么，以及它应该返回什么</li> <li>自定义 Hook 应当以 use 开头，以便 React 检查其是否符合 Hook 规则</li> <li>自定义 Hook 中的 state 和 effect 都是完全隔离的</li></ul> <h4 id="useredux"><a href="#useredux" class="header-anchor">#</a> useRedux</h4> <blockquote><p><a href="https://www.redux.org.cn/" target="_blank" rel="noopener noreferrer">redux——中文翻译<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="八股"><a href="#八股" class="header-anchor">#</a> 八股</h2> <blockquote><p><a href="https://github.com/semlinker/reactjs-interview-questions" target="_blank" rel="noopener noreferrer">React 面试题 &amp; 回答<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="react-的特性"><a href="#react-的特性" class="header-anchor">#</a> React 的特性</h3> <ul><li>虚拟 DOM</li> <li>服务端渲染</li> <li>单向数据流、数据绑定</li> <li>可复用/可组合的组件式 UI 开发视图</li></ul> <h3 id=""><a href="#" class="header-anchor">#</a></h3> <h2 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h2> <h2 id="最佳实践"><a href="#最佳实践" class="header-anchor">#</a> 最佳实践</h2> <h2 id="mvvm"><a href="#mvvm" class="header-anchor">#</a> MVVM</h2> <ul><li>React 与 jQuery 的区别是什么？</li> <li>组件完整的生命周期</li> <li>React 里 setState 方法是同步的还是异步的？</li> <li>组件属性受控和不受控是什么意思？</li> <li>React 里组件间通信用什么方案？</li> <li>React 高阶组件（HOC）是什么，在什么场景使用？有什么副作用？</li> <li>什么是 Stateless Component？</li> <li>React 如何做性能优化？shouldComponentUpdate</li> <li>父组件如何改变内部子组件的渲染逻辑？
<ul><li>this.props.children</li> <li>React.Children.map</li> <li>React.cloneElement</li></ul></li> <li>单页面应用：React-Router
<ul><li>/1 跳转到 /2 时页面组件是否会被重新初始化渲染</li> <li>如何实现类打点的全局需求，onEnter</li> <li>页面 bundle 太大有什么解决方案</li></ul></li> <li>React 服务端渲染</li> <li>Vue 双向绑定实现原理
<ul><li>getter/setter + 劫持数组方法</li> <li>还有哪些方案？脏检查/Proxy，三个方案优缺点</li> <li>vue 里在 data 上添加一个新属性 view 是否会得到响应？不会，为什么？怎么解决？</li></ul></li> <li>Vue 2.0 引入 vdom 的原因是什么
<ul><li>vdom 有哪些优势：diff 性能、标准化数据适配多端渲染</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">8/31/2021, 10:32:34 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.84e96067.js" defer></script><script src="/blog/assets/js/2.c354aea8.js" defer></script><script src="/blog/assets/js/99.907343cd.js" defer></script>
  </body>
</html>
