# webpack

> [《**Webpack 实战（入门，进阶与调优）**》](https://github.com/yuhaoju/webpack-config-handbook)

## loader

所谓 `loader` 只是一个导出为函数的 `JavaScript` 模块，函数的 `this` 上下文将由 `webpack` 填充。

其实际功能更像一个**预处理器**—— `Webpack` 只认识 `JavaScript` ，对于其他类型的资源，需要通过预定义的 `loader` 进行转译，输出为 `Webpack` 能够接收的形式。

### 主要配置

`loader` 规则定义在配置文件的 `module` 配置下：

```js
// webpack.config.js
module.exports = {
    module: {
        rules: [
            // 定义 loader 和对应文件类型等配置
        ]
    }
}
```

配置 | 说明 | 参数
--- | --- | ---
exclude | 排除指定目录下的模块 | 正则
include | 包含指定目录下的模块（优先级：exclude > include） | 正则
resource | 被加载的模块 | 相关配置
issuer | 加载者 | 相关配置

### 常用 loader
loader | 功能说明
--- | ---
babel-loader | 将 es6 语法转译为 es5
file-loader | 打包文件类资源，并返回其 publicPath (资源引用路径)
url-loader | 打包文件类资源，当文件大小超过阈值时，使用 base64 编码
vue-loader | 打包 vue 组件

### 自定义 loader

loader 本质上就是一个导出的函数：

```js
// my-custom-loader.js
module.exports = function(content) {
    // 自定义的 loader ，为所有 js 文件添加严格模式
    return `'use strict';\n\n${content}`
}
```

此外，还可以通过 `webpack.config.js` 向其传递 `options` ，以及使用 `webpack` 添加在 `this` 上下文中的对象和函数（参见[官方文档](https://www.webpackjs.com/api/loaders/)）。

## 样式处理

