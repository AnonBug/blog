(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{326:function(s,t,a){s.exports=a.p+"assets/img/git01.806b54a9.png"},692:function(s,t,a){"use strict";a.r(t);var e=a(26),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"git-入门"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-入门"}},[s._v("#")]),s._v(" git 入门")]),s._v(" "),e("p",[s._v("为避免由于物理层面的意外，导致代码的丢失，有必要将本地代码托管到一个靠谱的云平台。")]),s._v(" "),e("p",[s._v("git是一个开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。Git 是分布式的，每台电脑拥有的东西都是一样的。Git 有中心服务器，仅仅是为了方便交换大家的修改，但是这个服务器的地位和其他每个人的PC是一样的。")]),s._v(" "),e("p",[s._v("常用的 git 管理平台很多，由于众所周知的原因，本文使用 "),e("a",{attrs:{href:"https://gitee.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitee"),e("OutboundLink")],1),s._v(" 做代码托管。")]),s._v(" "),e("h2",{attrs:{id:"_1-基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本概念"}},[s._v("#")]),s._v(" 1. 基本概念")]),s._v(" "),e("p",[e("img",{attrs:{src:a(326),alt:""}})]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("远程仓库")]),s._v("：在局域网或互联网上的一个主机，存放代码库的主机或平台，比如"),e("code",[s._v("gitee.com(码云)")])])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("本地仓库")]),s._v("：在本地主机上的一个代码库，可以独立存在，也可以与远程仓库进行关联。"),e("code",[s._v(".git文件夹")]),s._v("目录中存储了很多配置信息、日志信息和文件版本信息、工作区、暂存区信息等。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("暂存区")]),s._v("：把修订的文件，从工作区经过 "),e("code",[s._v("add（添加）")]),s._v("后与某一个仓库分支进行关联，只要进入缓存区的文件才能 "),e("code",[s._v("commit")]),s._v(" (提交)到本地仓库。"),e("code",[s._v(".git文件夹")]),s._v("中有很多文件，其中有一个 "),e("code",[s._v("index")]),s._v(" 文件就是暂存区，也可以叫做 "),e("code",[s._v("stage")]),s._v(" 。 "),e("code",[s._v("暂存区")]),s._v(" 是一个临时保存修改文件的地方。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("工作区")]),s._v("：对任何文件的修订，都在工作区，工作区不与任何仓库关联，需要通过暂存区提交到本地仓库。")])])]),s._v(" "),e("h2",{attrs:{id:"_2-实践操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实践操作"}},[s._v("#")]),s._v(" 2. 实践操作")]),s._v(" "),e("h3",{attrs:{id:"_2-1-新建-远程仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-新建-远程仓库"}},[s._v("#")]),s._v(" 2.1 新建 远程仓库")]),s._v(" "),e("p",[s._v("由于本地项目是业务代码，考虑到安全性，选择创建私有仓库。")]),s._v(" "),e("h3",{attrs:{id:"_2-2-远程仓库-本地仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-远程仓库-本地仓库"}},[s._v("#")]),s._v(" 2.2 远程仓库 -> 本地仓库")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# clone 命令")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://gitee.com/anontree/wh_mapping.git\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("clone 私有仓库时，输入上述命令后，会被要求输入用户名和密码，且该用户需为私有仓库中的成员。")]),s._v(" "),e("p",[s._v("使用 clone 命令时，除了将 "),e("code",[s._v("远程仓库")]),s._v(" 的内容拉取到 "),e("code",[s._v("本地仓库")]),s._v(" ，还会直接把内容 "),e("code",[s._v("checkout")]),s._v(" 到 "),e("code",[s._v("工作区")]),s._v(" 。")]),s._v(" "),e("p",[s._v("上述命令执行完毕后，会生成 "),e("code",[s._v("wh_mapping")]),s._v(" 文件夹，进入文件夹，即可看到 "),e("code",[s._v("远程仓库")]),s._v(" 中的代码。")]),s._v(" "),e("p",[s._v("因为是新建的仓库，所以看到的内容应该是空的。如果在新建仓库时勾选了 "),e("code",[s._v("README.md")]),s._v(" 选项，则会在本地看到这个 "),e("code",[s._v("gitee")]),s._v(" 自动生成的 "),e("code",[s._v("README.md")]),s._v(" 。")]),s._v(" "),e("h3",{attrs:{id:"_2-3-已有代码-暂存区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-已有代码-暂存区"}},[s._v("#")]),s._v(" 2.3 已有代码  ->  暂存区")]),s._v(" "),e("p",[s._v("将本地已有的所有项目文件 "),e("code",[s._v("copy")]),s._v(" 到 "),e("code",[s._v("wh_mapping")]),s._v(" 文件夹中，这时，等于把文件放到了 "),e("code",[s._v("工作区")]),s._v(" 。")]),s._v(" "),e("p",[s._v("为了将 "),e("code",[s._v("工作区")]),s._v(" 的文件更新到 "),e("code",[s._v("本地仓库")]),s._v(" ，乃至提交到 "),e("code",[s._v("远程仓库")]),s._v(" ，首先需要把文件添加到 "),e("code",[s._v("缓存区")]),s._v(" ：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加变化的文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" test.js\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可添加所有修改过/新增的文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("此时修改的内容已经来到 "),e("code",[s._v("暂存区")]),s._v(" ，可以查看详情：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看暂存区的状态")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 简写的状态（推荐使用）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status -s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("既然是 "),e("code",[s._v("暂存区")]),s._v(" ，就可以把不想提交的内容 撤销 回来：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git reset 文件名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset test.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("在我们的 "),e("code",[s._v("工作区")]),s._v(" 中，有一些文件可能比较大，或者太琐碎，不需要通过远程管理，比如 "),e("code",[s._v("node_modules")]),s._v(" 里的库文件。")]),s._v(" "),e("p",[s._v("可以在 "),e("code",[s._v(".gitignore")]),s._v(" 中进行设置：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wh_mapping/.gitignore")]),s._v("\nnode_modules/ "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 库文件夹下的所有文件")]),s._v("\n.vscode "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vscode 配置文件")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"_2-4-暂存区-本地仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-暂存区-本地仓库"}},[s._v("#")]),s._v(" 2.4 暂存区 -> 本地仓库")]),s._v(" "),e("p",[s._v("使用 "),e("code",[s._v("commit")]),s._v(" 命令，从 "),e("code",[s._v("暂存区")]),s._v(" 提交到 "),e("code",[s._v("本地仓库")]),s._v(" ：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'这里写提交的一些情况说明'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这样， "),e("code",[s._v("工作区")]),s._v(" 的变化就已经保存到 "),e("code",[s._v("本地仓库")]),s._v(" 了。")]),s._v(" "),e("h3",{attrs:{id:"_2-5-本地仓库-远程仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-本地仓库-远程仓库"}},[s._v("#")]),s._v(" 2.5 本地仓库 -> 远程仓库")]),s._v(" "),e("p",[s._v("使用 "),e("code",[s._v("push")]),s._v(" 命令，把变更提交到 "),e("code",[s._v("远程仓库")]),s._v(" ：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push 远端仓库名 分支名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("因为这是初次提交，不存在代码冲突情况。但实际情况，在提交变更的时候，可能此时的 "),e("code",[s._v("远程仓库")]),s._v(" 已经在 "),e("code",[s._v("clone")]),s._v(" 之后有了新的变化，所以需要在 "),e("code",[s._v("push")]),s._v(" 之前，重新获取一下 "),e("code",[s._v("远程仓库")]),s._v(" 的内容，并与 "),e("code",[s._v("工作区")]),s._v(" 的内容 "),e("code",[s._v("合并（merge）")]),s._v(" 起来：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git pull 远端仓库名 分支名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("使用 "),e("code",[s._v("pull")]),s._v(" 命令，会在拉取 "),e("code",[s._v("远端仓库")]),s._v(" 之后，自动把变更 "),e("code",[s._v("合并")]),s._v(" 到 "),e("code",[s._v("工作区")]),s._v(" 中，如果存在冲突，则需先解决冲突（线下方式），再进行 "),e("code",[s._v("push")]),s._v(" 。")]),s._v(" "),e("h3",{attrs:{id:"_2-6-小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-小结"}},[s._v("#")]),s._v(" 2.6 小结")]),s._v(" "),e("p",[s._v("这样，就基本实现了本地代码的远程托管，每次做了修改之后，就以下一通操作：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加到暂存区")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 转到本地仓库")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'提交信息'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取远程变化")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交到远程仓库")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),e("p",[s._v("如有冲突，则解决冲突后，需要重新 add + commit + pull + push")])]),s._v(" "),e("h2",{attrs:{id:"_3-进阶操纵"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-进阶操纵"}},[s._v("#")]),s._v(" 3. 进阶操纵")]),s._v(" "),e("h3",{attrs:{id:"_3-2-idea-中使用-git"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-idea-中使用-git"}},[s._v("#")]),s._v(" 3.2 idea 中使用 git")]),s._v(" "),e("h2",{attrs:{id:"附-其它小技巧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#附-其它小技巧"}},[s._v("#")]),s._v(" 附 其它小技巧")]),s._v(" "),e("h3",{attrs:{id:"为-git-切换远程连接的方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为-git-切换远程连接的方式"}},[s._v("#")]),s._v(" 为 git 切换远程连接的方式")]),s._v(" "),e("p",[s._v("在 clone 项目的时候，可以使用 https 方式或 ssh 方式，二者都会为 git 命令生成一个 origin 远程仓库名。")]),s._v(" "),e("p",[s._v("如果需要切换协议，比如为了使用 公钥 简化 push 流程，必须使用 ssh 方式。")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除现有远端")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" origin\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加新远端")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git add 远端名（可自定义，比如我习惯改为 gitee） 远端ssh连接")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" gitee git@gitee.com:username/um.git\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);